{% extends 'partials/base.html' %}
{%block title%}Staff Page{%endblock%}

{%block content%} 
{% include 'partials/topside.html' %}

<div class="row my-4">
  <div class="col-md-4">
    {% if messages %} 
      {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %} 
    {% endif %}
  </div>
  
  <div class="col-md-8">
    <table class="table bg-white">
      <thead class="bg-info text-white">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Phone Number</th>
          <th scope="col" style="width: 120px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for worker in workers %}
        <tr>
          <th scope="row">{{ forloop.counter }}</th>
          <td>{{ worker.get_full_name|default:worker.username }}</td>
          <td>{{ worker.email|default:"No email" }}</td>
          <td>
            {% if worker.profile.phone %}
              {{ worker.profile.phone }}
            {% else %}
              No phone
            {% endif %}
          </td>
          <td>
            <div class="btn-group" role="group">
              <a class="btn btn-info btn-sm" href="{% url 'dashboard-staff-detail' worker.id %}" title="View">
                <i class="fas fa-eye"></i> View
              </a>                              
            </div>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center">No staff members found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<style>
.btn-success {
  background-color: #28a745;
  border-color: #28a745;
}

.btn-success:hover {
  background-color: #218838;
  border-color: #1e7e34;
}

.btn-info {
  background-color: #17a2b8;
  border-color: #17a2b8;
}

.btn-info:hover {
  background-color: #138496;
  border-color: #117a8b;
}

.btn-danger {
  background-color: #dc3545;
  border-color: #dc3545;
}

.btn-danger:hover {
  background-color: #c82333;
  border-color: #bd2130;
}

.table th {
  border-top: none;
}

.card-body {
  padding: 20px;
}

.btn-group .btn {
  margin: 0 2px;
}

.btn-group .btn:first-child {
  margin-left: 0;
}

.btn-group .btn:last-child {
  margin-right: 0;
}

.btn-sm {
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
}
</style>
{% endblock %}